// JavaScript Document

$(document).ready(function(){
	
	if ( $("#interactive_construction_house").length ){
		
		InitInteractiveHouse();
		//
	}
	
	if( $(".accordions").length ){
		
		var AccordionIcons = {
		  header: "plus",
		  activeHeader: "minus"
		};
		
		
	    $( ".accordions" ).accordion({
		  	collapsible: true,
			active: 0, //or 0 index of item to start open
			heightStyle: "content",
			icons: AccordionIcons,
		});
		$( ".nested-accordions" ).accordion({
		  	collapsible: true,
			active: false, 
			heightStyle: "content",
			icons: AccordionIcons,
		});
		
		
		$(".accordions h3 a").click(function(e){
			e.stopPropagation();
		})
		
	   }
	//ready
});

//
//
//
//interactive house article
function InitInteractiveHouse(){
	
	//hide overlay controls
	$("#interactive_construction_house .overlay").click(function(){
		HideInteractiveHouseOverlay();
	});
	$("#interactive_construction_house .overlay .content .information .close").click(function(){
		HideInteractiveHouseOverlay();
	});
	//prevent overlay content clicks from hiding overlay
	$("#interactive_construction_house .overlay .content").click(function(e){
		e.stopPropagation();
	});
	
	//label clicks
	$("#interactive_construction_house .label").click(function(){
		//alert( $(this).attr("ID") );
		
		Index =$('#interactive_construction_house .label').index(this);
		
		$("#interactive_construction_house .overlay .content .information h1").html(HouseTitles[Index]);
		$("#interactive_construction_house .overlay .content .information p.desc").html(HouseDescriptions[Index]);
		
		$("#interactive_construction_house .overlay .content img.hexagon").attr("src", HouseImages[Index]);
		
		Link = HouseLinks[Index];
		
		if( Link.length > 0){
			$("#interactive_construction_house .overlay .content .information a.cta").attr('href', Link).show();
		}else{
			$("#interactive_construction_house .overlay .content .information a.cta").hide();
		}
		
			//HouseTitles
			//HouseDescriptions 
			//HouseLinks
			//HouseImages
		
		
		$("#interactive_construction_house .overlay").fadeIn(500, function(){
		
		}).css("display", "flex");
	});
	
	
	$("#interactive_construction_house .overlay .content .information a.cta").click(function(e){
		e.preventDefault();
		HideInteractiveHouseOverlay();
		Element = $(this).attr("href");
		IH_ScrollToMoreInfo(Element);
	});
	
	
	//
}


function IH_ScrollToMoreInfo(element){
    $('html,body').unbind().animate({scrollTop: $(element).offset().top-140},1000, 'easeInOutQuad');
};

function HideInteractiveHouseOverlay(){
	
	$("#interactive_construction_house .overlay").fadeOut(500, function(){
		
	});
	
	//
}


//
//
//
//
//