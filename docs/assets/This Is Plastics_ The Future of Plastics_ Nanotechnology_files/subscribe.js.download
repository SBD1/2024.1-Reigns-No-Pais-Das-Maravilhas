$(document).ready(function(){
//Subscribe section
$('#subscribe #newsletterSignup').validate({
	rules: {
		email: {
			required: true,
			email: true
		},
		zip: {
			minlength: 5
		},
	},
	showErrors: function (  element) {
		
		if(element.email){
			$("#subscribe input#email").addClass("invalid-field");	
		}
		$( "#subscribe #newsletterSignup input#email" ).blur(function() {
		 $("#subscribe #newsletterSignup input#email").removeClass("invalid-field");
		});
		 
	},
	submitHandler: function (form) {	
		$.ajax({
			url: '/acton/subscribe.php',
			type:'POST',
			data: {
				emailaddress: $( "#subscribe input#email" ).val(),
				Zipcode: $( "#subscribe input#zip" ).val()
			},
			success:function(data) { // AJAX REQUEST RESULTS
				console.log("We will get back to you soon...");
			},
			error: function(errorThrown){
				//console.log(errorThrown);
			}
		});
		subSectionSuccessUI();
	}
});
	
function subSectionSuccessUI(){
	 //Clear form input
	$("#subscribe #newsletterSignup input#email").removeClass("invalid-field");	
	$("#subscribe #newsletterSignup input").val("");
	
	//Display message
	$("#subscribe .message").html("<p>Thanks! We will get back to you soon.</p>");
	$("#subscribe .message").addClass("success");
	$("#subscribe .message").removeClass("hidden");
}
});